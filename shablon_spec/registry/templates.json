{
  "templates": [
    {
      "id": "barbershop_basic",
      "version": "1.0.0",
      "hash": "ab12fe89c456def0123456789abcdef012345678",
      "description": "Базовый шаблон барбершопа с бронированием слотов",
      "category": "barbershop",
      "tags": ["barbershop", "booking", "slots", "notifications", "telegram"],
      "author": "JALM Foundation",
      "created_at": "2024-06-12T11:00:00Z",
      "updated_at": "2024-06-12T11:00:00Z",
      "file": "barbershop_basic.jalm",
      "dependencies": {
        "tula_spec": [
          {
            "id": "slot_validator",
            "version": "1.3.2",
            "hash": "ab12fe89c456def0123456789abcdef012345678"
          },
          {
            "id": "booking_widget",
            "version": "1.3.2",
            "hash": "cd34fa67b789ef1234567890bcdef1234567890"
          },
          {
            "id": "notify_system",
            "version": "1.0.0",
            "hash": "ef56bc89d012ef2345678901cdef2345678901"
          }
        ],
        "core_runner": ">=1.0.0"
      },
      "input_schema": {
        "type": "object",
        "properties": {
          "shop_name": {
            "type": "string",
            "description": "Название барбершопа"
          },
          "telegram_bot_token": {
            "type": "string",
            "description": "Токен Telegram бота"
          },
          "admin_phone": {
            "type": "string",
            "description": "Телефон администратора"
          }
        },
        "required": ["shop_name", "telegram_bot_token", "admin_phone"]
      },
      "output_schema": {
        "type": "object",
        "properties": {
          "booking_url": {
            "type": "string",
            "format": "uri",
            "description": "URL системы бронирования"
          },
          "admin_panel": {
            "type": "string",
            "format": "uri",
            "description": "URL админ панели"
          },
          "telegram_bot": {
            "type": "string",
            "description": "Username Telegram бота"
          }
        },
        "required": ["booking_url", "admin_panel", "telegram_bot"]
      },
      "runtime": {
        "timeout": 120,
        "memory_limit": "1GB",
        "retries": 3
      },
      "usage_examples": [
        {
          "description": "Создание барбершопа",
          "input": {
            "shop_name": "Тестовый Барбершоп",
            "telegram_bot_token": "test_token_123",
            "admin_phone": "+79001234567"
          }
        }
      ]
    },
    {
      "id": "booking-flow",
      "version": "1.0.0",
      "hash": "cd34fa67b789ef1234567890bcdef1234567890",
      "description": "Полный флоу бронирования слотов с валидацией и уведомлениями",
      "category": "booking",
      "tags": ["booking", "slots", "notifications", "validation"],
      "author": "JALM Foundation",
      "created_at": "2024-06-12T11:00:00Z",
      "updated_at": "2024-06-12T11:00:00Z",
      "file": "booking-flow.jalm",
      "dependencies": {
        "tula_spec": [
          {
            "id": "slot_validator",
            "version": "1.3.2",
            "hash": "ab12fe89c456def0123456789abcdef012345678"
          },
          {
            "id": "booking_widget",
            "version": "1.3.2",
            "hash": "cd34fa67b789ef1234567890bcdef1234567890"
          },
          {
            "id": "notify_system",
            "version": "1.0.0",
            "hash": "ef56bc89d012ef2345678901cdef2345678901"
          }
        ],
        "core_runner": ">=1.0.0"
      },
      "input_schema": {
        "type": "object",
        "properties": {
          "calendar_id": {
            "type": "string",
            "format": "uuid",
            "description": "ID календаря"
          },
          "user_id": {
            "type": "string",
            "format": "uuid",
            "description": "ID пользователя"
          },
          "slot": {
            "type": "object",
            "properties": {
              "datetime": {
                "type": "string",
                "format": "datetime",
                "description": "Дата и время слота"
              },
              "duration": {
                "type": "integer",
                "minimum": 15,
                "maximum": 480,
                "description": "Длительность в минутах"
              },
              "service_id": {
                "type": "string",
                "format": "uuid",
                "description": "ID услуги"
              }
            },
            "required": ["datetime", "duration", "service_id"]
          }
        },
        "required": ["calendar_id", "user_id", "slot"]
      },
      "output_schema": {
        "type": "object",
        "properties": {
          "booking_id": {
            "type": "string",
            "format": "uuid",
            "description": "ID бронирования"
          },
          "widget_url": {
            "type": "string",
            "format": "uri",
            "description": "URL виджета"
          },
          "status": {
            "type": "string",
            "enum": ["confirmed", "failed", "conflict"],
            "description": "Статус бронирования"
          },
          "message": {
            "type": "string",
            "description": "Сообщение о результате"
          }
        },
        "required": ["booking_id", "status"]
      },
      "runtime": {
        "timeout": 60,
        "memory_limit": "512MB",
        "retries": 3
      },
      "usage_examples": [
        {
          "description": "Базовое бронирование",
          "input": {
            "calendar_id": "123e4567-e89b-12d3-a456-426614174000",
            "user_id": "456e7890-e89b-12d3-a456-426614174001",
            "slot": {
              "datetime": "2024-06-15T10:00:00Z",
              "duration": 60,
              "service_id": "789e0123-e89b-12d3-a456-426614174002"
            }
          }
        }
      ]
    },
    {
      "id": "ecommerce-order",
      "version": "1.0.0",
      "hash": "ef56bc89d012ef2345678901cdef2345678901",
      "description": "Обработка заказа в e-commerce с валидацией и уведомлениями",
      "category": "ecommerce",
      "tags": ["ecommerce", "orders", "payments", "notifications"],
      "author": "JALM Foundation",
      "created_at": "2024-06-12T11:00:00Z",
      "updated_at": "2024-06-12T11:00:00Z",
      "file": "ecommerce-order.jalm",
      "dependencies": {
        "tula_spec": [
          {
            "id": "notify_system",
            "version": "1.0.0",
            "hash": "ef56bc89d012ef2345678901cdef2345678901"
          }
        ],
        "core_runner": ">=1.0.0"
      },
      "input_schema": {
        "type": "object",
        "properties": {
          "order_id": {
            "type": "string",
            "format": "uuid",
            "description": "ID заказа"
          },
          "customer_email": {
            "type": "string",
            "format": "email",
            "description": "Email клиента"
          },
          "items": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "product_id": {"type": "string"},
                "quantity": {"type": "integer", "minimum": 1},
                "price": {"type": "number", "minimum": 0}
              }
            }
          },
          "payment_method": {
            "type": "string",
            "enum": ["card", "paypal", "bank_transfer"]
          }
        },
        "required": ["order_id", "customer_email", "items", "payment_method"]
      },
      "output_schema": {
        "type": "object",
        "properties": {
          "order_status": {
            "type": "string",
            "enum": ["pending", "confirmed", "failed"],
            "description": "Статус заказа"
          },
          "payment_status": {
            "type": "string",
            "enum": ["pending", "completed", "failed"],
            "description": "Статус платежа"
          },
          "total_amount": {
            "type": "number",
            "description": "Общая сумма заказа"
          }
        },
        "required": ["order_status", "payment_status", "total_amount"]
      },
      "runtime": {
        "timeout": 120,
        "memory_limit": "1GB",
        "retries": 3
      }
    },
    {
      "id": "notification-campaign",
      "version": "1.0.0",
      "hash": "ab12fe89c456def0123456789abcdef012345678",
      "description": "Кампания уведомлений с расписанием и аналитикой",
      "category": "communication",
      "tags": ["notifications", "campaign", "scheduling", "analytics"],
      "author": "JALM Foundation",
      "created_at": "2024-06-12T11:00:00Z",
      "updated_at": "2024-06-12T11:00:00Z",
      "file": "notification-campaign.jalm",
      "dependencies": {
        "tula_spec": [
          {
            "id": "notify_system",
            "version": "1.0.0",
            "hash": "ef56bc89d012ef2345678901cdef2345678901"
          }
        ],
        "core_runner": ">=1.0.0"
      },
      "input_schema": {
        "type": "object",
        "properties": {
          "campaign_id": {
            "type": "string",
            "format": "uuid",
            "description": "ID кампании"
          },
          "message": {
            "type": "string",
            "description": "Текст сообщения"
          },
          "recipients": {
            "type": "array",
            "items": {
              "type": "string",
              "format": "email"
            },
            "description": "Список получателей"
          },
          "channels": {
            "type": "array",
            "items": {
              "type": "string",
              "enum": ["web", "email", "sms"]
            },
            "description": "Каналы доставки"
          },
          "schedule": {
            "type": "object",
            "properties": {
              "start_time": {"type": "string", "format": "datetime"},
              "end_time": {"type": "string", "format": "datetime"},
              "timezone": {"type": "string"}
            }
          }
        },
        "required": ["campaign_id", "message", "recipients", "channels"]
      },
      "output_schema": {
        "type": "object",
        "properties": {
          "campaign_status": {
            "type": "string",
            "enum": ["scheduled", "running", "completed", "failed"],
            "description": "Статус кампании"
          },
          "sent_count": {
            "type": "integer",
            "description": "Количество отправленных уведомлений"
          },
          "failed_count": {
            "type": "integer",
            "description": "Количество неудачных отправок"
          },
          "completion_rate": {
            "type": "number",
            "minimum": 0,
            "maximum": 1,
            "description": "Процент успешных отправок"
          }
        },
        "required": ["campaign_status", "sent_count", "failed_count", "completion_rate"]
      },
      "runtime": {
        "timeout": 300,
        "memory_limit": "2GB",
        "retries": 5
      }
    }
  ],
  "metadata": {
    "total_templates": 4,
    "categories": ["barbershop", "booking", "ecommerce", "communication"],
    "last_updated": "2024-06-12T11:00:00Z",
    "version": "1.0.0"
  }
} 