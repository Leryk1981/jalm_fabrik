# JALM CLI üöÄ

–ö–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è JALM Full Stack —ç–∫–æ—Å–∏—Å—Ç–µ–º–æ–π.

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

JALM CLI –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—Å–µ–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ JALM Full Stack:

- **Core Runner** - –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ —è–¥—Ä–æ
- **Tula Spec** - –∫–∞—Ç–∞–ª–æ–≥ —Ñ—É–Ω–∫—Ü–∏–π  
- **Shablon Spec** - –∫–∞—Ç–∞–ª–æ–≥ —à–∞–±–ª–æ–Ω–æ–≤
- **SaaS Provisioner** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–æ–≤

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –ò–∑ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞

```bash
# –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/jalm-foundation/jalm-full-stack.git
cd jalm-full-stack

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º CLI
cd cli
pip install -e .
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

```bash
jalm --version
```

## üìñ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞–º–∏
jalm up core-runner          # –ó–∞–ø—É—Å–∫ core-runner
jalm up all                  # –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
jalm down tula-spec          # –û—Å—Ç–∞–Ω–æ–≤–∫–∞ tula-spec
jalm down all                # –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
jalm status                  # –°—Ç–∞—Ç—É—Å –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
jalm status --verbose        # –ü–æ–¥—Ä–æ–±–Ω—ã–π —Å—Ç–∞—Ç—É—Å
jalm logs core-runner        # –õ–æ–≥–∏ core-runner
jalm logs all --follow       # –°–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∑–∞ –ª–æ–≥–∞–º–∏ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
jalm test                    # –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
jalm test shablon-spec --verbose  # –¢–µ—Å—Ç—ã shablon-spec —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –≤—ã–≤–æ–¥–æ–º

# –î–µ–ø–ª–æ–π
jalm deploy booking_light    # –î–µ–ø–ª–æ–π —à–∞–±–ª–æ–Ω–∞ booking_light
jalm deploy ecommerce --name my-shop  # –î–µ–ø–ª–æ–π —Å –∏–º–µ–Ω–µ–º
```

### –û–ø—Ü–∏–∏ –∫–æ–º–∞–Ω–¥

#### `jalm up`
- `--detach, -d` - –∑–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ
- `service` - —Å–µ—Ä–≤–∏—Å –¥–ª—è –∑–∞–ø—É—Å–∫–∞ (all, core-runner, tula-spec, shablon-spec)

#### `jalm down`
- `service` - —Å–µ—Ä–≤–∏—Å –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ (all, core-runner, tula-spec, shablon-spec)

#### `jalm status`
- `--verbose, -v` - –ø–æ–¥—Ä–æ–±–Ω—ã–π –≤—ã–≤–æ–¥

#### `jalm logs`
- `--follow, -f` - —Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∑–∞ –ª–æ–≥–∞–º–∏
- `--lines, -n` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 50)
- `service` - —Å–µ—Ä–≤–∏—Å –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤

#### `jalm test`
- `--verbose, -v` - –ø–æ–¥—Ä–æ–±–Ω—ã–π –≤—ã–≤–æ–¥
- `service` - —Å–µ—Ä–≤–∏—Å –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

#### `jalm deploy`
- `--name, -n` - –∏–º—è –¥–µ–ø–ª–æ—è
- `--config, -c` - –ø—É—Ç—å –∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- `template` - –Ω–∞–∑–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞

### –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –æ–ø—Ü–∏–∏

- `--version` - –≤–µ—Ä—Å–∏—è CLI
- `--debug` - —Ä–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏
- `--config-file` - –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

CLI –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª `~/.jalm/config.json`:

```json
{
  "services": {
    "core-runner": {
      "port": 8000,
      "path": "./core-runner",
      "docker_image": "jalm/core-runner:latest"
    },
    "tula-spec": {
      "port": 8001,
      "path": "./tula_spec",
      "docker_image": "jalm/tula-spec:latest"
    },
    "shablon-spec": {
      "port": 8002,
      "path": "./shablon_spec",
      "docker_image": "jalm/shablon-spec:latest"
    }
  },
  "docker": {
    "compose_file": "./docker/docker-compose.yml",
    "network": "jalm-network"
  },
  "logging": {
    "level": "INFO",
    "format": "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  }
}
```

## üîß –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
cli/
‚îú‚îÄ‚îÄ __init__.py
‚îú‚îÄ‚îÄ main.py                 # –ì–ª–∞–≤–Ω—ã–π –º–æ–¥—É–ª—å CLI
‚îú‚îÄ‚îÄ setup.py               # –£—Å—Ç–∞–Ω–æ–≤–∫–∞
‚îú‚îÄ‚îÄ requirements.txt       # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ README.md             # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ commands/             # –ö–æ–º–∞–Ω–¥—ã
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ up.py            # jalm up
‚îÇ   ‚îú‚îÄ‚îÄ down.py          # jalm down
‚îÇ   ‚îú‚îÄ‚îÄ status.py        # jalm status
‚îÇ   ‚îú‚îÄ‚îÄ logs.py          # jalm logs
‚îÇ   ‚îú‚îÄ‚îÄ test.py          # jalm test
‚îÇ   ‚îî‚îÄ‚îÄ deploy.py        # jalm deploy
‚îú‚îÄ‚îÄ core/                 # –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ config.py        # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ docker.py        # Docker —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
‚îÇ   ‚îî‚îÄ‚îÄ api.py           # API –∫–ª–∏–µ–Ω—Ç—ã
‚îî‚îÄ‚îÄ utils/               # –£—Ç–∏–ª–∏—Ç—ã
    ‚îú‚îÄ‚îÄ __init__.py
    ‚îú‚îÄ‚îÄ logger.py        # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
    ‚îî‚îÄ‚îÄ helpers.py       # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –∫–æ–º–∞–Ω–¥—ã

1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª –≤ `commands/`
2. –†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `run()`
3. –î–æ–±–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É –≤ `main.py`

–ü—Ä–∏–º–µ—Ä:

```python
# commands/example.py
def run(arg1, arg2, config, logger):
    """–û–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã"""
    logger.info(f"–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã —Å {arg1}, {arg2}")
    # –õ–æ–≥–∏–∫–∞ –∫–æ–º–∞–Ω–¥—ã
    return True
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
pip install -e .[dev]

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
pytest

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞
black cli/
flake8 cli/
```

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –°–µ—Ä–≤–∏—Å –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å
jalm status

# –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏
jalm logs core-runner

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Docker
docker ps
```

### –û—à–∏–±–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
cat ~/.jalm/config.json

# –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
rm ~/.jalm/config.json
jalm status  # –°–æ–∑–¥–∞—Å—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å Docker

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Docker
docker --version
docker-compose --version

# –û—á–∏—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker system prune
```

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–º. —Ñ–∞–π–ª LICENSE –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

1. –§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É –¥–ª—è —Ñ–∏—á–∏ (`git checkout -b feature/amazing-feature`)
3. –ó–∞—Ñ–∏–∫—Å–∏—Ä—É–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (`git commit -m 'Add amazing feature'`)
4. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –≤ –≤–µ—Ç–∫—É (`git push origin feature/amazing-feature`)
5. –û—Ç–∫—Ä–æ–π—Ç–µ Pull Request

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- **Issues:** https://github.com/jalm-foundation/jalm-full-stack/issues
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** https://jalm.org/docs
- **Email:** info@jalm.org 